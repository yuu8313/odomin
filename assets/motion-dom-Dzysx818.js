import{a as G,m as $,n as j,M as H,S as _,v as X}from"./motion-utils-rpnQiP0J.js";const Y=G(()=>window.ScrollTimeline!==void 0);class J{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(Y()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ve extends J{then(e,n){return this.finished.finally(e).then(()=>{})}}const x={value:null},R=t=>Array.isArray(t)&&typeof t[0]=="number",Q={};function Z(t,e){const n=G(t);return()=>Q[e]??n()}const L=Z(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ee=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=t(a/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},y=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,F={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:y([0,.65,.55,1]),circOut:y([.55,0,1,.45]),backIn:y([.31,.01,.66,-.59]),backOut:y([.33,1.53,.69,.99])};function I(t,e){if(t)return typeof t=="function"&&L()?ee(t,e):R(t)?y(t):Array.isArray(t)?t.map(n=>I(n,e)||F.easeOut):F[t]}function ye(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:o="easeInOut",times:u}={},f=void 0){const c={[e]:n};u&&(c.offset=u);const i=I(o,s);return Array.isArray(i)&&(c.easing=i),t.animate(c,{delay:r,duration:s,easing:Array.isArray(i)?"linear":i,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal",pseudoElement:f})}function Ae(t){return typeof t=="function"&&"applyToOptions"in t}function ge(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const C=2e4;function te(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<C;)e+=n,r=t.next(e);return e>=C?1/0:e}function Ee(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(te(r),C);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:$(s)}}function ne(t){return!!(typeof t=="function"&&L()||!t||typeof t=="string"&&(t in F||L())||R(t)||Array.isArray(t)&&t.every(ne))}function we(t,e){t.timeline=e,t.onfinish=null}const E=["read","resolveKeyframes","update","preRender","render","postRender"];function se(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},u=0;function f(i){l.has(i)&&(c.schedule(i),t()),u++,i(o)}const c={schedule:(i,v=!1,h=!1)=>{const P=h&&s?n:r;return v&&l.add(i),P.has(i)||P.add(i),i},cancel:i=>{r.delete(i),l.delete(i)},process:i=>{if(o=i,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),e&&x.value&&x.value.frameloop[e].push(u),u=0,n.clear(),s=!1,a&&(a=!1,c.process(i))}};return c}const re=40;function q(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=E.reduce((p,m)=>(p[m]=se(a,e?m:void 0),p),{}),{read:o,resolveKeyframes:u,update:f,preRender:c,render:i,postRender:v}=l,h=()=>{const p=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(p-s.timestamp,re),1),s.timestamp=p,s.isProcessing=!0,o.process(s),u.process(s),f.process(s),c.process(s),i.process(s),v.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(h))},g=()=>{n=!0,r=!0,s.isProcessing||t(h)};return{schedule:E.reduce((p,m)=>{const U=l[m];return p[m]=(W,K=!1,z=!1)=>(n||g(),U.schedule(W,K,z)),p},{}),cancel:p=>{for(let m=0;m<E.length;m++)l[E[m]].cancel(p)},state:s,steps:l}}const{schedule:ie,cancel:Te,state:V,steps:Pe}=q(typeof requestAnimationFrame<"u"?requestAnimationFrame:j,!0),{schedule:be}=q(queueMicrotask,!1);let w;function ae(){w=void 0}const T={now:()=>(w===void 0&&T.set(V.isProcessing||H.useManualTiming?V.timestamp:performance.now()),w),set:t=>{w=t,queueMicrotask(ae)}},d={x:!1,y:!1};function N(){return d.x||d.y}function Le(t){return t==="x"||t==="y"?d[t]?null:(d[t]=!0,()=>{d[t]=!1}):d.x||d.y?null:(d.x=d.y=!0,()=>{d.x=d.y=!1})}function oe(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function B(t,e){const n=oe(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function S(t){return!(t.pointerType==="touch"||N())}function Fe(t,e,n={}){const[r,s,a]=B(t,n),l=o=>{if(!S(o))return;const{target:u}=o,f=e(u,o);if(typeof f!="function"||!u)return;const c=i=>{S(i)&&(f(i),u.removeEventListener("pointerleave",c))};u.addEventListener("pointerleave",c,s)};return r.forEach(o=>{o.addEventListener("pointerenter",l,s)}),a}const O=(t,e)=>e?t===e?!0:O(t,e.parentElement):!1,ue=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ce=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function le(t){return ce.has(t.tagName)||t.tabIndex!==-1}const A=new WeakSet;function M(t){return e=>{e.key==="Enter"&&t(e)}}function b(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const fe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=M(()=>{if(A.has(n))return;b(n,"down");const s=M(()=>{b(n,"up")}),a=()=>b(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function k(t){return ue(t)&&!N()}function Ce(t,e,n={}){const[r,s,a]=B(t,n),l=o=>{const u=o.currentTarget;if(!k(o)||A.has(u))return;A.add(u);const f=e(u,o),c=(h,g)=>{window.removeEventListener("pointerup",i),window.removeEventListener("pointercancel",v),!(!k(h)||!A.has(u))&&(A.delete(u),typeof f=="function"&&f(h,{success:g}))},i=h=>{c(h,u===window||u===document||n.useGlobalTarget||O(u,h.target))},v=h=>{c(h,!1)};window.addEventListener("pointerup",i,s),window.addEventListener("pointercancel",v,s)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",l,s),o instanceof HTMLElement&&(o.addEventListener("focus",f=>fe(f,s)),!le(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}const D=30,he=t=>!isNaN(parseFloat(t));class de{constructor(e,n={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=T.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=T.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=he(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new _);const r=this.events[e].add(n);return e==="change"?()=>{r(),ie.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=T.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>D)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,D);return X(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xe(t,e){return new de(t,e)}export{ve as G,xe as a,C as b,te as c,Ee as d,R as e,ie as f,ee as g,V as h,Ae as i,Te as j,ye as k,we as l,be as m,ne as n,ge as o,ue as p,Le as q,Pe as r,L as s,T as t,Fe as u,Ce as v};
